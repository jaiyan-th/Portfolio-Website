document.addEventListener('DOMContentLoaded',function(){initializeNavigation();initializeSmoothScrolling();initializeAnimations();loadProjects();loadSkills();initializeContactForm();});function initializeNavigation(){const mobileMenuButton=document.getElementById('mobile-menu-button');const mobileMenu=document.getElementById('mobile-menu');const navLinks=document.querySelectorAll('.nav-link,.mobile-nav-link');const navbar=document.getElementById('navbar');if(mobileMenuButton && mobileMenu){mobileMenuButton.addEventListener('click',function(){mobileMenu.classList.toggle('hidden');const icon=mobileMenuButton.querySelector('i');if(mobileMenu.classList.contains('hidden')){icon.className='fas fa-bars text-xl';}else{icon.className='fas fa-times text-xl';}});}navLinks.forEach(link=>{link.addEventListener('click',function(){if(mobileMenu && !mobileMenu.classList.contains('hidden')){mobileMenu.classList.add('hidden');const icon=mobileMenuButton.querySelector('i');icon.className='fas fa-bars text-xl';}});});let lastScrollTop=0;window.addEventListener('scroll',function(){const scrollTop=window.pageYOffset || document.documentElement.scrollTop;if(navbar){if(scrollTop > 100){navbar.classList.add('bg-white/90','dark:bg-black-bg/90');navbar.classList.remove('bg-white/80','dark:bg-black-bg/80');}else{navbar.classList.remove('bg-white/90','dark:bg-black-bg/90');navbar.classList.add('bg-white/80','dark:bg-black-bg/80');}}updateActiveNavLink();lastScrollTop=scrollTop;});}function initializeSmoothScrolling(){const navLinks=document.querySelectorAll('a[href^="#"]');navLinks.forEach(link=>{link.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');const targetSection=document.querySelector(targetId);if(targetSection){const offsetTop=targetSection.offsetTop-80;window.scrollTo({top: offsetTop,behavior: 'smooth'});}});});const exploreBtn=document.getElementById('explore-work-btn');if(exploreBtn){exploreBtn.addEventListener('click',function(){const projectsSection=document.getElementById('projects');if(projectsSection){const offsetTop=projectsSection.offsetTop-80;window.scrollTo({top: offsetTop,behavior: 'smooth'});}});}}function updateActiveNavLink(){const sections=document.querySelectorAll('section[id]');const navLinks=document.querySelectorAll('.nav-link,.mobile-nav-link');let currentSection='';sections.forEach(section=>{const sectionTop=section.offsetTop-100;const sectionHeight=section.clientHeight;if(window.pageYOffset >=sectionTop && window.pageYOffset < sectionTop+sectionHeight){currentSection=section.getAttribute('id');}});navLinks.forEach(link=>{link.classList.remove('text-accent-orange','font-semibold');link.classList.add('text-medium-gray','dark:text-light-gray');if(link.getAttribute('href')===`#${currentSection}`){link.classList.remove('text-medium-gray','dark:text-light-gray');link.classList.add('text-accent-orange','font-semibold');}});}function initializeAnimations(){const observerOptions={threshold: 0.1,rootMargin: '0px 0px-50px 0px'};const observer=new IntersectionObserver(function(entries){entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('animate-fade-in');entry.target.style.opacity='1';entry.target.style.transform='translateY(0)';}});},observerOptions);const animatedElements=document.querySelectorAll('.fade-in,.slide-up');animatedElements.forEach(el=>{el.style.opacity='0';el.style.transform='translateY(30px)';el.style.transition='opacity 0.6s ease,transform 0.6s ease';observer.observe(el);});}async function loadProjects(){const projectsGrid=document.getElementById('projects-grid');try{const response=await fetch('/api/projects');const data=await response.json();if(data.status==='success' && data.data.projects.length > 0){projectsGrid.innerHTML='';data.data.projects.forEach(project=>{const projectCard=createProjectCard(project);projectsGrid.appendChild(projectCard);});}else{projectsGrid.innerHTML=` <div class="col-span-full text-center py-12"> <i class="fas fa-folder-open text-4xl text-gray-400 dark:text-gray-500 mb-4"></i> <p class="text-gray-500 dark:text-gray-400">No projects found.</p> </div> `;}}catch(error){console.error('Error loading projects:',error);projectsGrid.innerHTML=` <div class="col-span-full text-center py-12"> <i class="fas fa-exclamation-triangle text-4xl text-red-400 mb-4"></i> <p class="text-red-500">Error loading projects. Please try again later.</p> </div> `;}}function createProjectCard(project){const card=document.createElement('div');card.className='bg-white dark:bg-dark-surface rounded-lg border border-gray-200 dark:border-dark-border p-6 hover:border-accent-orange dark:hover:border-accent-orange transform hover:scale-101 transition-all duration-300 hover:shadow-xl';const techStackBadges=project.tech_stack.map(tech=> `<span class="px-2 py-1 bg-accent-orange/10 text-accent-orange text-xs rounded-full">${tech}</span>`).join('');card.innerHTML=` <div class="mb-4"> <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">${project.title}</h3> <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">${project.description}</p> </div> <div class="mb-4"> <div class="flex flex-wrap gap-2"> ${techStackBadges}</div> </div> <div class="flex items-center justify-between"> <span class="text-sm text-gray-500 dark:text-gray-400"> <i class="fas fa-calendar mr-1"></i> ${new Date(project.date_created).toLocaleDateString('en-US',{year: 'numeric',month: 'short'})}</span> <div class="flex space-x-3"> ${project.github_url ? ` <a href="${project.github_url}" target="_blank" class="text-gray-400 hover:text-accent-orange transition-colors duration-300"> <i class="fab fa-github text-lg"></i> </a> ` : ''}${project.demo_url ? ` <a href="${project.demo_url}" target="_blank" class="text-gray-400 hover:text-accent-orange transition-colors duration-300"> <i class="fas fa-external-link-alt text-lg"></i> </a> ` : ''}</div> </div> ${project.featured ? ` <div class="absolute top-4 right-4"> <span class="bg-accent-orange text-white text-xs px-2 py-1 rounded-full"> Featured </span> </div> ` : ''}`;if(project.featured){card.classList.add('relative');}return card;}async function loadSkills(){try{const response=await fetch('/api/skills');const data=await response.json();if(data.status==='success'){const skills=data.data.skills;const programmingContainer=document.getElementById('programming-skills');if(skills.programming && programmingContainer){programmingContainer.innerHTML=skills.programming.map(skill=> createSkillBadge(skill)).join('');}const toolsContainer=document.getElementById('tools-skills');if(skills.tools && toolsContainer){toolsContainer.innerHTML=skills.tools.map(skill=> createSkillBadge(skill)).join('');}const learningContainer=document.getElementById('learning-skills');if(skills.learning && learningContainer){learningContainer.innerHTML=skills.learning.map(skill=> createSkillBadge(skill,true)).join('');}}}catch(error){console.error('Error loading skills:',error);}}function createSkillBadge(skill,isLearning=false){const badgeClass=isLearning ? 'bg-accent-orange/20 text-accent-orange border border-accent-orange/30' : 'bg-accent-orange/10 text-accent-orange border border-accent-orange/20';return ` <div class="flex items-center space-x-2 px-4 py-2 ${badgeClass}rounded-full hover:scale-105 transition-transform duration-300"> ${skill.icon_class ? `<i class="${skill.icon_class}"></i>` : ''}<span class="font-medium">${skill.name}</span> ${isLearning ? '<i class="fas fa-graduation-cap text-xs"></i>' : ''}</div> `;}function initializeContactForm(){const form=document.getElementById('contact-form');const submitBtn=form.querySelector('button[type="submit"]');const submitText=document.getElementById('submit-text');const submitIcon=document.getElementById('submit-icon');const messageDiv=document.getElementById('form-message');form.addEventListener('submit',async function(e){e.preventDefault();const formData=new FormData(form);const data={name: formData.get('name'),email: formData.get('email'),subject: formData.get('subject'),message: formData.get('message')};submitBtn.disabled=true;submitText.textContent='Sending...';submitIcon.className='fas fa-spinner fa-spin ml-2';try{const response=await fetch('/api/contact',{method: 'POST',headers:{'Content-Type': 'application/json',},body: JSON.stringify(data)});const result=await response.json();if(result.status==='success'){showMessage('Message sent successfully! I\'ll get back to you soon.','success');form.reset();}else{showMessage(result.error?.message || 'Failed to send message. Please try again.','error');}}catch(error){console.error('Error sending message:',error);showMessage('Network error. Please check your connection and try again.','error');}finally{submitBtn.disabled=false;submitText.textContent='Send Message';submitIcon.className='fas fa-paper-plane ml-2';}});}function showMessage(message,type){const messageDiv=document.getElementById('form-message');const bgColor=type==='success' ? 'bg-green-100 text-green-800 border-green-200' : 'bg-red-100 text-red-800 border-red-200';messageDiv.className=`p-4 rounded-lg border ${bgColor}`;messageDiv.textContent=message;messageDiv.classList.remove('hidden');setTimeout(()=>{messageDiv.classList.add('hidden');},5000);}